Cleaned up target build folder
CC    src/variable.c -> build/host/src/variable.o
CC    src/range.c -> build/host/src/range.o
CC    src/codedump.c -> build/host/src/codedump.o
CC    src/load.c -> build/host/src/load.o
CC    src/compar.c -> build/host/src/compar.o
CC    src/gc.c -> build/host/src/gc.o
CC    src/backtrace.c -> build/host/src/backtrace.o
CC    src/array.c -> build/host/src/array.o
CC    src/print.c -> build/host/src/print.o
CC    src/fmt_fp.c -> build/host/src/fmt_fp.o
CC    src/init.c -> build/host/src/init.o
CC    src/proc.c -> build/host/src/proc.o
CC    src/debug.c -> build/host/src/debug.o
CC    src/symbol.c -> build/host/src/symbol.o
CC    src/version.c -> build/host/src/version.o
CC    src/class.c -> build/host/src/class.o
CC    src/state.c -> build/host/src/state.o
CC    src/hash.c -> build/host/src/hash.o
CC    src/numeric.c -> build/host/src/numeric.o
CC    src/crc.c -> build/host/src/crc.o
CC    src/etc.c -> build/host/src/etc.o
CC    src/string.c -> build/host/src/string.o
CC    src/kernel.c -> build/host/src/kernel.o
CC    src/error.c -> build/host/src/error.o
CC    src/vm.c -> build/host/src/vm.o
CC    src/dump.c -> build/host/src/dump.o
CC    src/pool.c -> build/host/src/pool.o
CC    src/object.c -> build/host/src/object.o
CC    src/enum.c -> build/host/src/enum.o
CC    mrbgems/mruby-bin-mrbc/tools/mrbc/mrbc.c -> build/host/mrbgems/mruby-bin-mrbc/tools/mrbc/mrbc.o
CC    mrbgems/mruby-compiler/core/codegen.c -> build/host/mrbgems/mruby-compiler/core/codegen.o
YACC  mrbgems/mruby-compiler/core/parse.y -> build/host/mrbgems/mruby-compiler/core/y.tab.c
CC    build/host/mrbgems/mruby-compiler/core/y.tab.c -> build/host/mrbgems/mruby-compiler/core/y.tab.o
AR    build/host/lib/libmruby_core.a 
ar: creating /home/maki/check_mruby/mruby/build/host/lib/libmruby_core.a
LD    build/host/bin/mrbc 
GEN   *.rb -> build/host/mrblib/mrblib.c
      MRBC mrblib/00class.rb 
      MRBC mrblib/10error.rb 
      MRBC mrblib/array.rb 
      MRBC mrblib/compar.rb 
      MRBC mrblib/enum.rb 
      MRBC mrblib/hash.rb 
      MRBC mrblib/kernel.rb 
      MRBC mrblib/numeric.rb 
      MRBC mrblib/range.rb 
      MRBC mrblib/string.rb 
      MRBC mrblib/symbol.rb 
CC    build/host/mrblib/mrblib.c -> build/host/mrblib/mrblib.o
CC    mrbgems/mruby-metaprog/src/metaprog.c -> build/host/mrbgems/mruby-metaprog/src/metaprog.o
CC    build/host/mrbgems/mruby-metaprog/gem_init.c -> build/host/mrbgems/mruby-metaprog/gem_init.o
CC    mrbgems/mruby-io/src/io.c -> build/host/mrbgems/mruby-io/src/io.o
CC    mrbgems/mruby-io/src/mruby_io_gem.c -> build/host/mrbgems/mruby-io/src/mruby_io_gem.o
CC    mrbgems/mruby-io/src/file.c -> build/host/mrbgems/mruby-io/src/file.o
CC    mrbgems/mruby-io/src/file_test.c -> build/host/mrbgems/mruby-io/src/file_test.o
      MRBC mrbgems/mruby-io/mrblib/file.rb 
      MRBC mrbgems/mruby-io/mrblib/file_constants.rb 
      MRBC mrbgems/mruby-io/mrblib/io.rb 
      MRBC mrbgems/mruby-io/mrblib/kernel.rb 
CC    build/host/mrbgems/mruby-io/gem_init.c -> build/host/mrbgems/mruby-io/gem_init.o
CC    mrbgems/mruby-pack/src/pack.c -> build/host/mrbgems/mruby-pack/src/pack.o
CC    build/host/mrbgems/mruby-pack/gem_init.c -> build/host/mrbgems/mruby-pack/gem_init.o
CC    mrbgems/mruby-sprintf/src/sprintf.c -> build/host/mrbgems/mruby-sprintf/src/sprintf.o
CC    mrbgems/mruby-sprintf/src/kernel.c -> build/host/mrbgems/mruby-sprintf/src/kernel.o
      MRBC mrbgems/mruby-sprintf/mrblib/string.rb 
CC    build/host/mrbgems/mruby-sprintf/gem_init.c -> build/host/mrbgems/mruby-sprintf/gem_init.o
CC    mrbgems/mruby-print/src/print.c -> build/host/mrbgems/mruby-print/src/print.o
      MRBC mrbgems/mruby-print/mrblib/print.rb 
CC    build/host/mrbgems/mruby-print/gem_init.c -> build/host/mrbgems/mruby-print/gem_init.o
CC    mrbgems/mruby-math/src/math.c -> build/host/mrbgems/mruby-math/src/math.o
CC    build/host/mrbgems/mruby-math/gem_init.c -> build/host/mrbgems/mruby-math/gem_init.o
CC    mrbgems/mruby-time/src/time.c -> build/host/mrbgems/mruby-time/src/time.o
      MRBC mrbgems/mruby-time/mrblib/time.rb 
CC    build/host/mrbgems/mruby-time/gem_init.c -> build/host/mrbgems/mruby-time/gem_init.o
CC    mrbgems/mruby-struct/src/struct.c -> build/host/mrbgems/mruby-struct/src/struct.o
      MRBC mrbgems/mruby-struct/mrblib/struct.rb 
CC    build/host/mrbgems/mruby-struct/gem_init.c -> build/host/mrbgems/mruby-struct/gem_init.o
      MRBC mrbgems/mruby-compar-ext/mrblib/compar.rb 
CC    build/host/mrbgems/mruby-compar-ext/gem_init.c -> build/host/mrbgems/mruby-compar-ext/gem_init.o
      MRBC mrbgems/mruby-enum-ext/mrblib/enum.rb 
CC    build/host/mrbgems/mruby-enum-ext/gem_init.c -> build/host/mrbgems/mruby-enum-ext/gem_init.o
CC    mrbgems/mruby-string-ext/src/string.c -> build/host/mrbgems/mruby-string-ext/src/string.o
      MRBC mrbgems/mruby-string-ext/mrblib/string.rb 
CC    build/host/mrbgems/mruby-string-ext/gem_init.c -> build/host/mrbgems/mruby-string-ext/gem_init.o
CC    mrbgems/mruby-numeric-ext/src/numeric_ext.c -> build/host/mrbgems/mruby-numeric-ext/src/numeric_ext.o
      MRBC mrbgems/mruby-numeric-ext/mrblib/numeric_ext.rb 
CC    build/host/mrbgems/mruby-numeric-ext/gem_init.c -> build/host/mrbgems/mruby-numeric-ext/gem_init.o
CC    mrbgems/mruby-array-ext/src/array.c -> build/host/mrbgems/mruby-array-ext/src/array.o
      MRBC mrbgems/mruby-array-ext/mrblib/array.rb 
CC    build/host/mrbgems/mruby-array-ext/gem_init.c -> build/host/mrbgems/mruby-array-ext/gem_init.o
CC    mrbgems/mruby-hash-ext/src/hash-ext.c -> build/host/mrbgems/mruby-hash-ext/src/hash-ext.o
      MRBC mrbgems/mruby-hash-ext/mrblib/hash.rb 
CC    build/host/mrbgems/mruby-hash-ext/gem_init.c -> build/host/mrbgems/mruby-hash-ext/gem_init.o
CC    mrbgems/mruby-range-ext/src/range.c -> build/host/mrbgems/mruby-range-ext/src/range.o
      MRBC mrbgems/mruby-range-ext/mrblib/range.rb 
CC    build/host/mrbgems/mruby-range-ext/gem_init.c -> build/host/mrbgems/mruby-range-ext/gem_init.o
CC    mrbgems/mruby-proc-ext/src/proc.c -> build/host/mrbgems/mruby-proc-ext/src/proc.o
      MRBC mrbgems/mruby-proc-ext/mrblib/proc.rb 
CC    build/host/mrbgems/mruby-proc-ext/gem_init.c -> build/host/mrbgems/mruby-proc-ext/gem_init.o
CC    mrbgems/mruby-symbol-ext/src/symbol.c -> build/host/mrbgems/mruby-symbol-ext/src/symbol.o
      MRBC mrbgems/mruby-symbol-ext/mrblib/symbol.rb 
CC    build/host/mrbgems/mruby-symbol-ext/gem_init.c -> build/host/mrbgems/mruby-symbol-ext/gem_init.o
CC    mrbgems/mruby-random/src/random.c -> build/host/mrbgems/mruby-random/src/random.o
CC    build/host/mrbgems/mruby-random/gem_init.c -> build/host/mrbgems/mruby-random/gem_init.o
CC    mrbgems/mruby-object-ext/src/object.c -> build/host/mrbgems/mruby-object-ext/src/object.o
      MRBC mrbgems/mruby-object-ext/mrblib/object.rb 
CC    build/host/mrbgems/mruby-object-ext/gem_init.c -> build/host/mrbgems/mruby-object-ext/gem_init.o
CC    mrbgems/mruby-objectspace/src/mruby_objectspace.c -> build/host/mrbgems/mruby-objectspace/src/mruby_objectspace.o
CC    build/host/mrbgems/mruby-objectspace/gem_init.c -> build/host/mrbgems/mruby-objectspace/gem_init.o
CC    mrbgems/mruby-fiber/src/fiber.c -> build/host/mrbgems/mruby-fiber/src/fiber.o
CC    build/host/mrbgems/mruby-fiber/gem_init.c -> build/host/mrbgems/mruby-fiber/gem_init.o
      MRBC mrbgems/mruby-enumerator/mrblib/enumerator.rb 
CC    build/host/mrbgems/mruby-enumerator/gem_init.c -> build/host/mrbgems/mruby-enumerator/gem_init.o
      MRBC mrbgems/mruby-enum-lazy/mrblib/lazy.rb 
CC    build/host/mrbgems/mruby-enum-lazy/gem_init.c -> build/host/mrbgems/mruby-enum-lazy/gem_init.o
      MRBC mrbgems/mruby-toplevel-ext/mrblib/toplevel.rb 
CC    build/host/mrbgems/mruby-toplevel-ext/gem_init.c -> build/host/mrbgems/mruby-toplevel-ext/gem_init.o
CC    mrbgems/mruby-kernel-ext/src/kernel.c -> build/host/mrbgems/mruby-kernel-ext/src/kernel.o
CC    build/host/mrbgems/mruby-kernel-ext/gem_init.c -> build/host/mrbgems/mruby-kernel-ext/gem_init.o
CC    mrbgems/mruby-class-ext/src/class.c -> build/host/mrbgems/mruby-class-ext/src/class.o
      MRBC mrbgems/mruby-class-ext/mrblib/module.rb 
CC    build/host/mrbgems/mruby-class-ext/gem_init.c -> build/host/mrbgems/mruby-class-ext/gem_init.o
CC    mrbgems/mruby-method/src/method.c -> build/host/mrbgems/mruby-method/src/method.o
      MRBC mrbgems/mruby-method/mrblib/kernel.rb 
      MRBC mrbgems/mruby-method/mrblib/method.rb 
CC    build/host/mrbgems/mruby-method/gem_init.c -> build/host/mrbgems/mruby-method/gem_init.o
CC    mrbgems/mruby-error/src/exception.c -> build/host/mrbgems/mruby-error/src/exception.o
CC    build/host/mrbgems/mruby-error/gem_init.c -> build/host/mrbgems/mruby-error/gem_init.o
CC    build/host/mrbgems/gem_init.c -> build/host/mrbgems/gem_init.o
AR    build/host/lib/libmruby.a 
ar: creating /home/maki/check_mruby/mruby/build/host/lib/libmruby.a
CC    src/variable.c -> build/test/src/variable.o
CC    src/range.c -> build/test/src/range.o
CC    src/codedump.c -> build/test/src/codedump.o
CC    src/load.c -> build/test/src/load.o
CC    src/compar.c -> build/test/src/compar.o
CC    src/gc.c -> build/test/src/gc.o
CC    src/backtrace.c -> build/test/src/backtrace.o
CC    src/array.c -> build/test/src/array.o
CC    src/print.c -> build/test/src/print.o
CC    src/fmt_fp.c -> build/test/src/fmt_fp.o
CC    src/init.c -> build/test/src/init.o
CC    src/proc.c -> build/test/src/proc.o
CC    src/debug.c -> build/test/src/debug.o
CC    src/symbol.c -> build/test/src/symbol.o
CC    src/version.c -> build/test/src/version.o
CC    src/class.c -> build/test/src/class.o
CC    src/state.c -> build/test/src/state.o
CC    src/hash.c -> build/test/src/hash.o
CC    src/numeric.c -> build/test/src/numeric.o
CC    src/crc.c -> build/test/src/crc.o
CC    src/etc.c -> build/test/src/etc.o
CC    src/string.c -> build/test/src/string.o
CC    src/kernel.c -> build/test/src/kernel.o
CC    src/error.c -> build/test/src/error.o
CC    src/vm.c -> build/test/src/vm.o
CC    src/dump.c -> build/test/src/dump.o
CC    src/pool.c -> build/test/src/pool.o
CC    src/object.c -> build/test/src/object.o
CC    src/enum.c -> build/test/src/enum.o
GEN   *.rb -> build/test/mrblib/mrblib.c
      MRBC mrblib/00class.rb 
      MRBC mrblib/10error.rb 
      MRBC mrblib/array.rb 
      MRBC mrblib/compar.rb 
      MRBC mrblib/enum.rb 
      MRBC mrblib/hash.rb 
      MRBC mrblib/kernel.rb 
      MRBC mrblib/numeric.rb 
      MRBC mrblib/range.rb 
      MRBC mrblib/string.rb 
      MRBC mrblib/symbol.rb 
CC    build/test/mrblib/mrblib.c -> build/test/mrblib/mrblib.o
CC    mrbgems/mruby-metaprog/src/metaprog.c -> build/test/mrbgems/mruby-metaprog/src/metaprog.o
CC    build/test/mrbgems/mruby-metaprog/gem_init.c -> build/test/mrbgems/mruby-metaprog/gem_init.o
CC    mrbgems/mruby-io/src/io.c -> build/test/mrbgems/mruby-io/src/io.o
CC    mrbgems/mruby-io/src/mruby_io_gem.c -> build/test/mrbgems/mruby-io/src/mruby_io_gem.o
CC    mrbgems/mruby-io/src/file.c -> build/test/mrbgems/mruby-io/src/file.o
CC    mrbgems/mruby-io/src/file_test.c -> build/test/mrbgems/mruby-io/src/file_test.o
      MRBC mrbgems/mruby-io/mrblib/file.rb 
      MRBC mrbgems/mruby-io/mrblib/file_constants.rb 
      MRBC mrbgems/mruby-io/mrblib/io.rb 
      MRBC mrbgems/mruby-io/mrblib/kernel.rb 
CC    build/test/mrbgems/mruby-io/gem_init.c -> build/test/mrbgems/mruby-io/gem_init.o
CC    mrbgems/mruby-pack/src/pack.c -> build/test/mrbgems/mruby-pack/src/pack.o
CC    build/test/mrbgems/mruby-pack/gem_init.c -> build/test/mrbgems/mruby-pack/gem_init.o
CC    mrbgems/mruby-sprintf/src/sprintf.c -> build/test/mrbgems/mruby-sprintf/src/sprintf.o
CC    mrbgems/mruby-sprintf/src/kernel.c -> build/test/mrbgems/mruby-sprintf/src/kernel.o
      MRBC mrbgems/mruby-sprintf/mrblib/string.rb 
CC    build/test/mrbgems/mruby-sprintf/gem_init.c -> build/test/mrbgems/mruby-sprintf/gem_init.o
CC    mrbgems/mruby-print/src/print.c -> build/test/mrbgems/mruby-print/src/print.o
      MRBC mrbgems/mruby-print/mrblib/print.rb 
CC    build/test/mrbgems/mruby-print/gem_init.c -> build/test/mrbgems/mruby-print/gem_init.o
CC    mrbgems/mruby-math/src/math.c -> build/test/mrbgems/mruby-math/src/math.o
CC    build/test/mrbgems/mruby-math/gem_init.c -> build/test/mrbgems/mruby-math/gem_init.o
CC    mrbgems/mruby-time/src/time.c -> build/test/mrbgems/mruby-time/src/time.o
      MRBC mrbgems/mruby-time/mrblib/time.rb 
CC    build/test/mrbgems/mruby-time/gem_init.c -> build/test/mrbgems/mruby-time/gem_init.o
CC    mrbgems/mruby-struct/src/struct.c -> build/test/mrbgems/mruby-struct/src/struct.o
      MRBC mrbgems/mruby-struct/mrblib/struct.rb 
CC    build/test/mrbgems/mruby-struct/gem_init.c -> build/test/mrbgems/mruby-struct/gem_init.o
      MRBC mrbgems/mruby-compar-ext/mrblib/compar.rb 
CC    build/test/mrbgems/mruby-compar-ext/gem_init.c -> build/test/mrbgems/mruby-compar-ext/gem_init.o
      MRBC mrbgems/mruby-enum-ext/mrblib/enum.rb 
CC    build/test/mrbgems/mruby-enum-ext/gem_init.c -> build/test/mrbgems/mruby-enum-ext/gem_init.o
CC    mrbgems/mruby-string-ext/src/string.c -> build/test/mrbgems/mruby-string-ext/src/string.o
      MRBC mrbgems/mruby-string-ext/mrblib/string.rb 
CC    build/test/mrbgems/mruby-string-ext/gem_init.c -> build/test/mrbgems/mruby-string-ext/gem_init.o
CC    mrbgems/mruby-numeric-ext/src/numeric_ext.c -> build/test/mrbgems/mruby-numeric-ext/src/numeric_ext.o
      MRBC mrbgems/mruby-numeric-ext/mrblib/numeric_ext.rb 
CC    build/test/mrbgems/mruby-numeric-ext/gem_init.c -> build/test/mrbgems/mruby-numeric-ext/gem_init.o
CC    mrbgems/mruby-array-ext/src/array.c -> build/test/mrbgems/mruby-array-ext/src/array.o
      MRBC mrbgems/mruby-array-ext/mrblib/array.rb 
CC    build/test/mrbgems/mruby-array-ext/gem_init.c -> build/test/mrbgems/mruby-array-ext/gem_init.o
CC    mrbgems/mruby-hash-ext/src/hash-ext.c -> build/test/mrbgems/mruby-hash-ext/src/hash-ext.o
      MRBC mrbgems/mruby-hash-ext/mrblib/hash.rb 
CC    build/test/mrbgems/mruby-hash-ext/gem_init.c -> build/test/mrbgems/mruby-hash-ext/gem_init.o
CC    mrbgems/mruby-range-ext/src/range.c -> build/test/mrbgems/mruby-range-ext/src/range.o
      MRBC mrbgems/mruby-range-ext/mrblib/range.rb 
CC    build/test/mrbgems/mruby-range-ext/gem_init.c -> build/test/mrbgems/mruby-range-ext/gem_init.o
CC    mrbgems/mruby-proc-ext/src/proc.c -> build/test/mrbgems/mruby-proc-ext/src/proc.o
      MRBC mrbgems/mruby-proc-ext/mrblib/proc.rb 
CC    build/test/mrbgems/mruby-proc-ext/gem_init.c -> build/test/mrbgems/mruby-proc-ext/gem_init.o
CC    mrbgems/mruby-symbol-ext/src/symbol.c -> build/test/mrbgems/mruby-symbol-ext/src/symbol.o
      MRBC mrbgems/mruby-symbol-ext/mrblib/symbol.rb 
CC    build/test/mrbgems/mruby-symbol-ext/gem_init.c -> build/test/mrbgems/mruby-symbol-ext/gem_init.o
CC    mrbgems/mruby-random/src/random.c -> build/test/mrbgems/mruby-random/src/random.o
CC    build/test/mrbgems/mruby-random/gem_init.c -> build/test/mrbgems/mruby-random/gem_init.o
CC    mrbgems/mruby-object-ext/src/object.c -> build/test/mrbgems/mruby-object-ext/src/object.o
      MRBC mrbgems/mruby-object-ext/mrblib/object.rb 
CC    build/test/mrbgems/mruby-object-ext/gem_init.c -> build/test/mrbgems/mruby-object-ext/gem_init.o
CC    mrbgems/mruby-objectspace/src/mruby_objectspace.c -> build/test/mrbgems/mruby-objectspace/src/mruby_objectspace.o
CC    build/test/mrbgems/mruby-objectspace/gem_init.c -> build/test/mrbgems/mruby-objectspace/gem_init.o
CC    mrbgems/mruby-fiber/src/fiber.c -> build/test/mrbgems/mruby-fiber/src/fiber.o
CC    build/test/mrbgems/mruby-fiber/gem_init.c -> build/test/mrbgems/mruby-fiber/gem_init.o
      MRBC mrbgems/mruby-enumerator/mrblib/enumerator.rb 
CC    build/test/mrbgems/mruby-enumerator/gem_init.c -> build/test/mrbgems/mruby-enumerator/gem_init.o
      MRBC mrbgems/mruby-enum-lazy/mrblib/lazy.rb 
CC    build/test/mrbgems/mruby-enum-lazy/gem_init.c -> build/test/mrbgems/mruby-enum-lazy/gem_init.o
      MRBC mrbgems/mruby-toplevel-ext/mrblib/toplevel.rb 
CC    build/test/mrbgems/mruby-toplevel-ext/gem_init.c -> build/test/mrbgems/mruby-toplevel-ext/gem_init.o
CC    mrbgems/mruby-kernel-ext/src/kernel.c -> build/test/mrbgems/mruby-kernel-ext/src/kernel.o
CC    build/test/mrbgems/mruby-kernel-ext/gem_init.c -> build/test/mrbgems/mruby-kernel-ext/gem_init.o
CC    mrbgems/mruby-class-ext/src/class.c -> build/test/mrbgems/mruby-class-ext/src/class.o
      MRBC mrbgems/mruby-class-ext/mrblib/module.rb 
CC    build/test/mrbgems/mruby-class-ext/gem_init.c -> build/test/mrbgems/mruby-class-ext/gem_init.o
CC    mrbgems/mruby-method/src/method.c -> build/test/mrbgems/mruby-method/src/method.o
      MRBC mrbgems/mruby-method/mrblib/kernel.rb 
      MRBC mrbgems/mruby-method/mrblib/method.rb 
CC    build/test/mrbgems/mruby-method/gem_init.c -> build/test/mrbgems/mruby-method/gem_init.o
CC    mrbgems/mruby-compiler/core/codegen.c -> build/test/mrbgems/mruby-compiler/core/codegen.o
YACC  mrbgems/mruby-compiler/core/parse.y -> build/test/mrbgems/mruby-compiler/core/y.tab.c
CC    build/test/mrbgems/mruby-compiler/core/y.tab.c -> build/test/mrbgems/mruby-compiler/core/y.tab.o
CC    build/repos/test/mruby-zmq/src/mrb_libzmq.c -> build/test/mrbgems/mruby-zmq/src/mrb_libzmq.o
In file included from /home/maki/check_mruby/mruby/build/repos/test/mruby-zmq/src/c11threads.h:31:0,
                 from /home/maki/check_mruby/mruby/build/repos/test/mruby-zmq/src/mrb_libzmq.h:33,
                 from /home/maki/check_mruby/mruby/build/repos/test/mruby-zmq/src/mrb_libzmq.c:1:
/home/maki/check_mruby/mruby/build/repos/test/mruby-zmq/src/c11threads_posix.h: In function ‘thrd_join’:
/home/maki/check_mruby/mruby/build/repos/test/mruby-zmq/src/c11threads_posix.h:26:12: warning: cast from pointer to integer of different size [-Wpointer-to-int-cast]
     *res = (int)retval;
            ^
In file included from /home/maki/check_mruby/mruby/build/repos/test/mruby-zmq/src/mrb_libzmq.c:1:0:
/home/maki/check_mruby/mruby/build/repos/test/mruby-zmq/src/mrb_libzmq.h: In function ‘mrb_zmq_thread_close_gem_final’:
/home/maki/check_mruby/mruby/build/repos/test/mruby-zmq/src/mrb_libzmq.h:213:3: warning: ISO C90 forbids mixed declarations and code [-Wdeclaration-after-statement]
   mrb_value thread_val = mrb_obj_value(obj);
   ^~~~~~~~~
/home/maki/check_mruby/mruby/build/repos/test/mruby-zmq/src/mrb_libzmq.h: In function ‘mrb_zmq_zmq_close_gem_final’:
/home/maki/check_mruby/mruby/build/repos/test/mruby-zmq/src/mrb_libzmq.h:262:3: warning: ISO C90 forbids mixed declarations and code [-Wdeclaration-after-statement]
   mrb_value socket_val = mrb_obj_value(obj);
   ^~~~~~~~~
/home/maki/check_mruby/mruby/build/repos/test/mruby-zmq/src/mrb_libzmq.c: In function ‘mrb_zmq_bind’:
/home/maki/check_mruby/mruby/build/repos/test/mruby-zmq/src/mrb_libzmq.c:10:3: warning: ISO C90 forbids mixed declarations and code [-Wdeclaration-after-statement]
   int rc = zmq_bind(socket, endpoint);
   ^~~
/home/maki/check_mruby/mruby/build/repos/test/mruby-zmq/src/mrb_libzmq.c: In function ‘mrb_zmq_close’:
/home/maki/check_mruby/mruby/build/repos/test/mruby-zmq/src/mrb_libzmq.c:30:5: warning: ISO C90 forbids mixed declarations and code [-Wdeclaration-after-statement]
     int rc = zmq_close(DATA_PTR(socket_val));
     ^~~
/home/maki/check_mruby/mruby/build/repos/test/mruby-zmq/src/mrb_libzmq.c: In function ‘mrb_zmq_connect’:
/home/maki/check_mruby/mruby/build/repos/test/mruby-zmq/src/mrb_libzmq.c:47:3: warning: ISO C90 forbids mixed declarations and code [-Wdeclaration-after-statement]
   int rc = zmq_connect(socket, endpoint);
   ^~~
/home/maki/check_mruby/mruby/build/repos/test/mruby-zmq/src/mrb_libzmq.c: In function ‘mrb_zmq_ctx_get’:
/home/maki/check_mruby/mruby/build/repos/test/mruby-zmq/src/mrb_libzmq.c:61:3: warning: ISO C90 forbids mixed declarations and code [-Wdeclaration-after-statement]
   int rc = zmq_ctx_get(MRB_LIBZMQ_CONTEXT(mrb), (int) option_name);
   ^~~
/home/maki/check_mruby/mruby/build/repos/test/mruby-zmq/src/mrb_libzmq.c: In function ‘mrb_zmq_ctx_set’:
/home/maki/check_mruby/mruby/build/repos/test/mruby-zmq/src/mrb_libzmq.c:75:3: warning: ISO C90 forbids mixed declarations and code [-Wdeclaration-after-statement]
   int rc = zmq_ctx_set(MRB_LIBZMQ_CONTEXT(mrb), (int) option_name, (int) option_value);
   ^~~
/home/maki/check_mruby/mruby/build/repos/test/mruby-zmq/src/mrb_libzmq.c: In function ‘mrb_zmq_curve_keypair’:
/home/maki/check_mruby/mruby/build/repos/test/mruby-zmq/src/mrb_libzmq.c:94:3: warning: ISO C90 forbids mixed declarations and code [-Wdeclaration-after-statement]
   mrb_value keypair = mrb_hash_new_capa(mrb, 2);
   ^~~~~~~~~
/home/maki/check_mruby/mruby/build/repos/test/mruby-zmq/src/mrb_libzmq.c: In function ‘mrb_zmq_disconnect’:
/home/maki/check_mruby/mruby/build/repos/test/mruby-zmq/src/mrb_libzmq.c:109:3: warning: ISO C90 forbids mixed declarations and code [-Wdeclaration-after-statement]
   int rc = zmq_disconnect(socket, endpoint);
   ^~~
/home/maki/check_mruby/mruby/build/repos/test/mruby-zmq/src/mrb_libzmq.c: In function ‘mrb_zmq_getsockopt’:
/home/maki/check_mruby/mruby/build/repos/test/mruby-zmq/src/mrb_libzmq.c:127:3: warning: ISO C90 forbids mixed declarations and code [-Wdeclaration-after-statement]
   struct RClass* option_class = mrb_class_ptr(option_type);
   ^~~~~~
/home/maki/check_mruby/mruby/build/repos/test/mruby-zmq/src/mrb_libzmq.c: In function ‘mrb_zmq_msg_new’:
/home/maki/check_mruby/mruby/build/repos/test/mruby-zmq/src/mrb_libzmq.c:199:3: warning: ISO C90 forbids mixed declarations and code [-Wdeclaration-after-statement]
   zmq_msg_t *msg = (zmq_msg_t *) mrb_realloc(mrb, DATA_PTR(self), sizeof(*msg));
   ^~~~~~~~~
/home/maki/check_mruby/mruby/build/repos/test/mruby-zmq/src/mrb_libzmq.c: In function ‘mrb_zmq_msg_copy’:
/home/maki/check_mruby/mruby/build/repos/test/mruby-zmq/src/mrb_libzmq.c:233:3: warning: ISO C90 forbids mixed declarations and code [-Wdeclaration-after-statement]
   zmq_msg_t *msg_copy = (zmq_msg_t *) mrb_realloc(mrb, DATA_PTR(copy), sizeof(*msg_copy));
   ^~~~~~~~~
/home/maki/check_mruby/mruby/build/repos/test/mruby-zmq/src/mrb_libzmq.c:237:3: warning: ISO C90 forbids mixed declarations and code [-Wdeclaration-after-statement]
   int rc = zmq_msg_copy(msg_copy, msg_src);
   ^~~
/home/maki/check_mruby/mruby/build/repos/test/mruby-zmq/src/mrb_libzmq.c: In function ‘mrb_zmq_msg_gets’:
/home/maki/check_mruby/mruby/build/repos/test/mruby-zmq/src/mrb_libzmq.c:252:3: warning: ISO C90 forbids mixed declarations and code [-Wdeclaration-after-statement]
   const char *prop = zmq_msg_gets(msg, property);
   ^~~~~
/home/maki/check_mruby/mruby/build/repos/test/mruby-zmq/src/mrb_libzmq.c: In function ‘mrb_zmq_msg_send’:
/home/maki/check_mruby/mruby/build/repos/test/mruby-zmq/src/mrb_libzmq.c:273:3: warning: ISO C90 forbids mixed declarations and code [-Wdeclaration-after-statement]
   int rc = zmq_msg_send(msg, socket, flags);
   ^~~
/home/maki/check_mruby/mruby/build/repos/test/mruby-zmq/src/mrb_libzmq.c: In function ‘mrb_zmq_msg_size’:
/home/maki/check_mruby/mruby/build/repos/test/mruby-zmq/src/mrb_libzmq.c:287:3: warning: ISO C90 forbids mixed declarations and code [-Wdeclaration-after-statement]
   size_t size = zmq_msg_size(msg);
   ^~~~~~
/home/maki/check_mruby/mruby/build/repos/test/mruby-zmq/src/mrb_libzmq.c: In function ‘mrb_zmq_proxy’:
/home/maki/check_mruby/mruby/build/repos/test/mruby-zmq/src/mrb_libzmq.c:299:3: warning: ISO C90 forbids mixed declarations and code [-Wdeclaration-after-statement]
   int rc = zmq_proxy(frontend, backend, capture);
   ^~~
/home/maki/check_mruby/mruby/build/repos/test/mruby-zmq/src/mrb_libzmq.c: In function ‘mrb_zmq_proxy_steerable’:
/home/maki/check_mruby/mruby/build/repos/test/mruby-zmq/src/mrb_libzmq.c:314:3: warning: ISO C90 forbids mixed declarations and code [-Wdeclaration-after-statement]
   int rc = zmq_proxy_steerable(frontend, backend, capture, control);
   ^~~
/home/maki/check_mruby/mruby/build/repos/test/mruby-zmq/src/mrb_libzmq.c: In function ‘mrb_zmq_msg_eql’:
/home/maki/check_mruby/mruby/build/repos/test/mruby-zmq/src/mrb_libzmq.c:334:3: warning: ISO C90 forbids mixed declarations and code [-Wdeclaration-after-statement]
   zmq_msg_t *msg = (zmq_msg_t *) DATA_PTR(self);
   ^~~~~~~~~
/home/maki/check_mruby/mruby/build/repos/test/mruby-zmq/src/mrb_libzmq.c: In function ‘mrb_zmq_send’:
/home/maki/check_mruby/mruby/build/repos/test/mruby-zmq/src/mrb_libzmq.c:356:3: warning: ISO C90 forbids mixed declarations and code [-Wdeclaration-after-statement]
   int rc = zmq_send(socket, RSTRING_PTR(message), RSTRING_LEN(message), flags);
   ^~~
/home/maki/check_mruby/mruby/build/repos/test/mruby-zmq/src/mrb_libzmq.c: In function ‘mrb_zmq_setsockopt’:
/home/maki/check_mruby/mruby/build/repos/test/mruby-zmq/src/mrb_libzmq.c:373:3: warning: ISO C90 forbids mixed declarations and code [-Wdeclaration-after-statement]
   int rc;
   ^~~
/home/maki/check_mruby/mruby/build/repos/test/mruby-zmq/src/mrb_libzmq.c: In function ‘mrb_zmq_unbind’:
/home/maki/check_mruby/mruby/build/repos/test/mruby-zmq/src/mrb_libzmq.c:418:3: warning: ISO C90 forbids mixed declarations and code [-Wdeclaration-after-statement]
   int rc = zmq_unbind(socket, endpoint);
   ^~~
/home/maki/check_mruby/mruby/build/repos/test/mruby-zmq/src/mrb_libzmq.c: In function ‘mrb_zmq_socket’:
/home/maki/check_mruby/mruby/build/repos/test/mruby-zmq/src/mrb_libzmq.c:527:3: warning: ISO C90 forbids mixed declarations and code [-Wdeclaration-after-statement]
   mrb_int type;
   ^~~~~~~
/home/maki/check_mruby/mruby/build/repos/test/mruby-zmq/src/mrb_libzmq.c:531:3: warning: ISO C90 forbids mixed declarations and code [-Wdeclaration-after-statement]
   void *socket = zmq_socket(MRB_LIBZMQ_CONTEXT(mrb), type);
   ^~~~
/home/maki/check_mruby/mruby/build/repos/test/mruby-zmq/src/mrb_libzmq.c: In function ‘mrb_zmq_socket_monitor’:
/home/maki/check_mruby/mruby/build/repos/test/mruby-zmq/src/mrb_libzmq.c:550:3: warning: ISO C90 forbids mixed declarations and code [-Wdeclaration-after-statement]
   int rc = zmq_socket_monitor(socket, addr, events);
   ^~~
/home/maki/check_mruby/mruby/build/repos/test/mruby-zmq/src/mrb_libzmq.c: In function ‘mrb_zmq_socket_recv’:
/home/maki/check_mruby/mruby/build/repos/test/mruby-zmq/src/mrb_libzmq.c:565:3: warning: ISO C90 forbids mixed declarations and code [-Wdeclaration-after-statement]
   mrb_value data;
   ^~~~~~~~~
/home/maki/check_mruby/mruby/build/repos/test/mruby-zmq/src/mrb_libzmq.c: In function ‘mrb_zmq_z85_decode’:
/home/maki/check_mruby/mruby/build/repos/test/mruby-zmq/src/mrb_libzmq.c:600:3: warning: ISO C90 forbids mixed declarations and code [-Wdeclaration-after-statement]
   size_t string_len = strlen(string);
   ^~~~~~
/home/maki/check_mruby/mruby/build/repos/test/mruby-zmq/src/mrb_libzmq.c:606:3: warning: ISO C90 forbids mixed declarations and code [-Wdeclaration-after-statement]
   mrb_value dest = mrb_str_new(mrb, NULL, 0.8 * string_len);
   ^~~~~~~~~
In file included from /home/maki/check_mruby/mruby/include/mruby/value.h:169:0,
                 from /home/maki/check_mruby/mruby/include/mruby.h:92,
                 from /home/maki/check_mruby/mruby/build/repos/test/mruby-zmq/include/mruby/zmq.h:4,
                 from /home/maki/check_mruby/mruby/build/repos/test/mruby-zmq/src/mrb_libzmq.h:10,
                 from /home/maki/check_mruby/mruby/build/repos/test/mruby-zmq/src/mrb_libzmq.c:1:
/home/maki/check_mruby/mruby/build/repos/test/mruby-zmq/src/mrb_libzmq.c: In function ‘mrb_zmq_z85_encode’:
/home/maki/check_mruby/mruby/build/repos/test/mruby-zmq/src/mrb_libzmq.c:628:77: error: implicit declaration of function ‘mrb_fixnum_mul’; did you mean ‘mrb_num_mul’? [-Werror=implicit-function-declaration]
   mrb_value dest = mrb_str_new(mrb, NULL, mrb_fixnum(mrb_flo_to_fixnum(mrb, mrb_fixnum_mul(mrb, mrb_fixnum_value(size), mrb_float_value(mrb, 1.25)))));
                                                                             ^
/home/maki/check_mruby/mruby/include/mruby/boxing_no.h:35:26: note: in definition of macro ‘mrb_fixnum’
 #define mrb_fixnum(o)   (o).value.i
                          ^
/home/maki/check_mruby/mruby/build/repos/test/mruby-zmq/src/mrb_libzmq.c:628:77: error: incompatible type for argument 2 of ‘mrb_flo_to_fixnum’
   mrb_value dest = mrb_str_new(mrb, NULL, mrb_fixnum(mrb_flo_to_fixnum(mrb, mrb_fixnum_mul(mrb, mrb_fixnum_value(size), mrb_float_value(mrb, 1.25)))));
                                                                             ^
/home/maki/check_mruby/mruby/include/mruby/boxing_no.h:35:26: note: in definition of macro ‘mrb_fixnum’
 #define mrb_fixnum(o)   (o).value.i
                          ^
In file included from /home/maki/check_mruby/mruby/build/repos/test/mruby-zmq/src/mrb_libzmq.h:21:0,
                 from /home/maki/check_mruby/mruby/build/repos/test/mruby-zmq/src/mrb_libzmq.c:1:
/home/maki/check_mruby/mruby/include/mruby/numeric.h:34:19: note: expected ‘mrb_value {aka struct mrb_value}’ but argument is of type ‘int’
 MRB_API mrb_value mrb_flo_to_fixnum(mrb_state *mrb, mrb_value val);
                   ^~~~~~~~~~~~~~~~~
/home/maki/check_mruby/mruby/build/repos/test/mruby-zmq/src/mrb_libzmq.c:628:3: warning: ISO C90 forbids mixed declarations and code [-Wdeclaration-after-statement]
   mrb_value dest = mrb_str_new(mrb, NULL, mrb_fixnum(mrb_flo_to_fixnum(mrb, mrb_fixnum_mul(mrb, mrb_fixnum_value(size), mrb_float_value(mrb, 1.25)))));
   ^~~~~~~~~
/home/maki/check_mruby/mruby/build/repos/test/mruby-zmq/src/mrb_libzmq.c: In function ‘mrb_zmq_thread_fn’:
/home/maki/check_mruby/mruby/build/repos/test/mruby-zmq/src/mrb_libzmq.c:646:3: warning: ISO C90 forbids mixed declarations and code [-Wdeclaration-after-statement]
   mrb_state *mrb = mrb_open_allocf(mrb_zmq_thread_data->mrb_parent->allocf, mrb_zmq_thread_data->mrb_parent->allocf_ud);
   ^~~~~~~~~
/home/maki/check_mruby/mruby/build/repos/test/mruby-zmq/src/mrb_libzmq.c:649:5: warning: ISO C90 forbids mixed declarations and code [-Wdeclaration-after-statement]
     mrb_value thread_fn = mrb_nil_value();
     ^~~~~~~~~
/home/maki/check_mruby/mruby/build/repos/test/mruby-zmq/src/mrb_libzmq.c:657:7: warning: ISO C90 forbids mixed declarations and code [-Wdeclaration-after-statement]
       struct RClass* zmq_mod = mrb_module_get(mrb, "ZMQ");
       ^~~~~~
/home/maki/check_mruby/mruby/build/repos/test/mruby-zmq/src/mrb_libzmq.c:660:7: warning: ISO C90 forbids mixed declarations and code [-Wdeclaration-after-statement]
       mrb_value timeo = mrb_fixnum_value(120000);
       ^~~~~~~~~
/home/maki/check_mruby/mruby/build/repos/test/mruby-zmq/src/mrb_libzmq.c:664:7: warning: ISO C90 forbids mixed declarations and code [-Wdeclaration-after-statement]
       mrb_value argv = mrb_msgpack_unpack(mrb, mrb_zmq_thread_data->argv_str);
       ^~~~~~~~~
/home/maki/check_mruby/mruby/build/repos/test/mruby-zmq/src/mrb_libzmq.c:688:7: warning: ISO C90 forbids mixed declarations and code [-Wdeclaration-after-statement]
       mrb_value old_exc = mrb_obj_value(mrb->exc);
       ^~~~~~~~~
/home/maki/check_mruby/mruby/build/repos/test/mruby-zmq/src/mrb_libzmq.c: In function ‘mrb_zmq_threadstart’:
/home/maki/check_mruby/mruby/build/repos/test/mruby-zmq/src/mrb_libzmq.c:730:3: warning: ISO C90 forbids mixed declarations and code [-Wdeclaration-after-statement]
   mrb_value *argv = NULL;
   ^~~~~~~~~
/home/maki/check_mruby/mruby/build/repos/test/mruby-zmq/src/mrb_libzmq.c:735:3: warning: ISO C90 forbids mixed declarations and code [-Wdeclaration-after-statement]
   mrb_value self = mrb_obj_value(mrb_obj_alloc(mrb, MRB_TT_DATA, mrb_class_ptr(thread_class)));
   ^~~~~~~~~
/home/maki/check_mruby/mruby/build/repos/test/mruby-zmq/src/mrb_libzmq.c:745:3: warning: ISO C90 forbids mixed declarations and code [-Wdeclaration-after-statement]
   mrb_value pipe_args[] = {
   ^~~~~~~~~
/home/maki/check_mruby/mruby/build/repos/test/mruby-zmq/src/mrb_libzmq.c:750:3: warning: ISO C90 forbids mixed declarations and code [-Wdeclaration-after-statement]
   mrb_value frontend_val = mrb_obj_new(mrb, mrb_class_get_under(mrb, mrb_module_get(mrb, "ZMQ"), "Pair"), NELEMS(pipe_args), pipe_args);
   ^~~~~~~~~
/home/maki/check_mruby/mruby/build/repos/test/mruby-zmq/src/mrb_libzmq.c:752:3: warning: ISO C90 forbids mixed declarations and code [-Wdeclaration-after-statement]
   mrb_value timeo = mrb_fixnum_value(120000);
   ^~~~~~~~~
/home/maki/check_mruby/mruby/build/repos/test/mruby-zmq/src/mrb_libzmq.c:761:3: warning: ISO C90 forbids mixed declarations and code [-Wdeclaration-after-statement]
   int rc = thrd_create(&mrb_zmq_thread_data->thread, &mrb_zmq_thread_fn, mrb_zmq_thread_data);
   ^~~
/home/maki/check_mruby/mruby/build/repos/test/mruby-zmq/src/mrb_libzmq.c:767:3: warning: ISO C90 forbids mixed declarations and code [-Wdeclaration-after-statement]
   int success = FALSE;
   ^~~
/home/maki/check_mruby/mruby/build/repos/test/mruby-zmq/src/mrb_libzmq.c: In function ‘mrb_zmq_threadclose’:
/home/maki/check_mruby/mruby/build/repos/test/mruby-zmq/src/mrb_libzmq.c:801:5: warning: ISO C90 forbids mixed declarations and code [-Wdeclaration-after-statement]
     int success = FALSE;
     ^~~
/home/maki/check_mruby/mruby/build/repos/test/mruby-zmq/src/mrb_libzmq.c: In function ‘mrb_network_interfaces’:
/home/maki/check_mruby/mruby/build/repos/test/mruby-zmq/src/mrb_libzmq.c:1136:3: warning: ISO C90 forbids mixed declarations and code [-Wdeclaration-after-statement]
   mrb_value interfaces_ary = mrb_ary_new(mrb);
   ^~~~~~~~~
/home/maki/check_mruby/mruby/build/repos/test/mruby-zmq/src/mrb_libzmq.c: In function ‘mrb_mruby_zmq_gem_init’:
/home/maki/check_mruby/mruby/build/repos/test/mruby-zmq/src/mrb_libzmq.c:1232:3: warning: ISO C90 forbids mixed declarations and code [-Wdeclaration-after-statement]
   void *context = zmq_ctx_new();
   ^~~~
/home/maki/check_mruby/mruby/build/repos/test/mruby-zmq/src/mrb_libzmq.c:1246:3: warning: ISO C90 forbids mixed declarations and code [-Wdeclaration-after-statement]
   struct RClass *libzmq_mod, *zmq_mod, *zmq_msg_class, *zmq_socket_class, *zmq_thread_class;
   ^~~~~~
/home/maki/check_mruby/mruby/build/repos/test/mruby-zmq/src/mrb_libzmq.c:1338:3: warning: ISO C90 forbids mixed declarations and code [-Wdeclaration-after-statement]
   mrb_value msgpack = mrb_obj_value(mrb_module_get(mrb, "MessagePack"));
   ^~~~~~~~~
/home/maki/check_mruby/mruby/build/repos/test/mruby-zmq/src/mrb_libzmq.c:1348:3: warning: ISO C90 forbids mixed declarations and code [-Wdeclaration-after-statement]
   mrb_value pack_class_args[] = { mrb_fixnum_value(2), mrb_obj_value(mrb->class_class) };
   ^~~~~~~~~
/home/maki/check_mruby/mruby/build/repos/test/mruby-zmq/src/mrb_libzmq.c:1354:3: warning: ISO C90 forbids mixed declarations and code [-Wdeclaration-after-statement]
   mrb_value pack_module_args[] = { mrb_fixnum_value(4), mrb_obj_value(mrb->module_class) };
   ^~~~~~~~~
/home/maki/check_mruby/mruby/build/repos/test/mruby-zmq/src/mrb_libzmq.c:1360:3: warning: ISO C90 forbids mixed declarations and code [-Wdeclaration-after-statement]
   mrb_value pack_proc_args[] = { mrb_fixnum_value(127), mrb_obj_value(mrb->proc_class) };
   ^~~~~~~~~
/home/maki/check_mruby/mruby/build/repos/test/mruby-zmq/src/mrb_libzmq.c: In function ‘mrb_mruby_zmq_gem_final’:
/home/maki/check_mruby/mruby/build/repos/test/mruby-zmq/src/mrb_libzmq.c:1372:3: warning: ISO C90 forbids mixed declarations and code [-Wdeclaration-after-statement]
   void *context = MRB_LIBZMQ_CONTEXT(mrb);
   ^~~~
cc1: some warnings being treated as errors
In file included from /home/maki/check_mruby/mruby/build/repos/test/mruby-zmq/src/c11threads.h:31:0,
                 from /home/maki/check_mruby/mruby/build/repos/test/mruby-zmq/src/mrb_libzmq.h:33,
                 from /home/maki/check_mruby/mruby/build/repos/test/mruby-zmq/src/mrb_libzmq.c:1:
/home/maki/check_mruby/mruby/build/repos/test/mruby-zmq/src/c11threads_posix.h: In function ‘thrd_join’:
/home/maki/check_mruby/mruby/build/repos/test/mruby-zmq/src/c11threads_posix.h:26:12: warning: cast from pointer to integer of different size [-Wpointer-to-int-cast]
     *res = (int)retval;
            ^
In file included from /home/maki/check_mruby/mruby/build/repos/test/mruby-zmq/src/mrb_libzmq.c:1:0:
/home/maki/check_mruby/mruby/build/repos/test/mruby-zmq/src/mrb_libzmq.h: In function ‘mrb_zmq_thread_close_gem_final’:
/home/maki/check_mruby/mruby/build/repos/test/mruby-zmq/src/mrb_libzmq.h:213:3: warning: ISO C90 forbids mixed declarations and code [-Wdeclaration-after-statement]
   mrb_value thread_val = mrb_obj_value(obj);
   ^~~~~~~~~
/home/maki/check_mruby/mruby/build/repos/test/mruby-zmq/src/mrb_libzmq.h: In function ‘mrb_zmq_zmq_close_gem_final’:
/home/maki/check_mruby/mruby/build/repos/test/mruby-zmq/src/mrb_libzmq.h:262:3: warning: ISO C90 forbids mixed declarations and code [-Wdeclaration-after-statement]
   mrb_value socket_val = mrb_obj_value(obj);
   ^~~~~~~~~
/home/maki/check_mruby/mruby/build/repos/test/mruby-zmq/src/mrb_libzmq.c: In function ‘mrb_zmq_bind’:
/home/maki/check_mruby/mruby/build/repos/test/mruby-zmq/src/mrb_libzmq.c:10:3: warning: ISO C90 forbids mixed declarations and code [-Wdeclaration-after-statement]
   int rc = zmq_bind(socket, endpoint);
   ^~~
/home/maki/check_mruby/mruby/build/repos/test/mruby-zmq/src/mrb_libzmq.c: In function ‘mrb_zmq_close’:
/home/maki/check_mruby/mruby/build/repos/test/mruby-zmq/src/mrb_libzmq.c:30:5: warning: ISO C90 forbids mixed declarations and code [-Wdeclaration-after-statement]
     int rc = zmq_close(DATA_PTR(socket_val));
     ^~~
/home/maki/check_mruby/mruby/build/repos/test/mruby-zmq/src/mrb_libzmq.c: In function ‘mrb_zmq_connect’:
/home/maki/check_mruby/mruby/build/repos/test/mruby-zmq/src/mrb_libzmq.c:47:3: warning: ISO C90 forbids mixed declarations and code [-Wdeclaration-after-statement]
   int rc = zmq_connect(socket, endpoint);
   ^~~
/home/maki/check_mruby/mruby/build/repos/test/mruby-zmq/src/mrb_libzmq.c: In function ‘mrb_zmq_ctx_get’:
/home/maki/check_mruby/mruby/build/repos/test/mruby-zmq/src/mrb_libzmq.c:61:3: warning: ISO C90 forbids mixed declarations and code [-Wdeclaration-after-statement]
   int rc = zmq_ctx_get(MRB_LIBZMQ_CONTEXT(mrb), (int) option_name);
   ^~~
/home/maki/check_mruby/mruby/build/repos/test/mruby-zmq/src/mrb_libzmq.c: In function ‘mrb_zmq_ctx_set’:
/home/maki/check_mruby/mruby/build/repos/test/mruby-zmq/src/mrb_libzmq.c:75:3: warning: ISO C90 forbids mixed declarations and code [-Wdeclaration-after-statement]
   int rc = zmq_ctx_set(MRB_LIBZMQ_CONTEXT(mrb), (int) option_name, (int) option_value);
   ^~~
/home/maki/check_mruby/mruby/build/repos/test/mruby-zmq/src/mrb_libzmq.c: In function ‘mrb_zmq_curve_keypair’:
/home/maki/check_mruby/mruby/build/repos/test/mruby-zmq/src/mrb_libzmq.c:94:3: warning: ISO C90 forbids mixed declarations and code [-Wdeclaration-after-statement]
   mrb_value keypair = mrb_hash_new_capa(mrb, 2);
   ^~~~~~~~~
/home/maki/check_mruby/mruby/build/repos/test/mruby-zmq/src/mrb_libzmq.c: In function ‘mrb_zmq_disconnect’:
/home/maki/check_mruby/mruby/build/repos/test/mruby-zmq/src/mrb_libzmq.c:109:3: warning: ISO C90 forbids mixed declarations and code [-Wdeclaration-after-statement]
   int rc = zmq_disconnect(socket, endpoint);
   ^~~
/home/maki/check_mruby/mruby/build/repos/test/mruby-zmq/src/mrb_libzmq.c: In function ‘mrb_zmq_getsockopt’:
/home/maki/check_mruby/mruby/build/repos/test/mruby-zmq/src/mrb_libzmq.c:127:3: warning: ISO C90 forbids mixed declarations and code [-Wdeclaration-after-statement]
   struct RClass* option_class = mrb_class_ptr(option_type);
   ^~~~~~
/home/maki/check_mruby/mruby/build/repos/test/mruby-zmq/src/mrb_libzmq.c: In function ‘mrb_zmq_msg_new’:
/home/maki/check_mruby/mruby/build/repos/test/mruby-zmq/src/mrb_libzmq.c:199:3: warning: ISO C90 forbids mixed declarations and code [-Wdeclaration-after-statement]
   zmq_msg_t *msg = (zmq_msg_t *) mrb_realloc(mrb, DATA_PTR(self), sizeof(*msg));
   ^~~~~~~~~
/home/maki/check_mruby/mruby/build/repos/test/mruby-zmq/src/mrb_libzmq.c: In function ‘mrb_zmq_msg_copy’:
/home/maki/check_mruby/mruby/build/repos/test/mruby-zmq/src/mrb_libzmq.c:233:3: warning: ISO C90 forbids mixed declarations and code [-Wdeclaration-after-statement]
   zmq_msg_t *msg_copy = (zmq_msg_t *) mrb_realloc(mrb, DATA_PTR(copy), sizeof(*msg_copy));
   ^~~~~~~~~
/home/maki/check_mruby/mruby/build/repos/test/mruby-zmq/src/mrb_libzmq.c:237:3: warning: ISO C90 forbids mixed declarations and code [-Wdeclaration-after-statement]
   int rc = zmq_msg_copy(msg_copy, msg_src);
   ^~~
/home/maki/check_mruby/mruby/build/repos/test/mruby-zmq/src/mrb_libzmq.c: In function ‘mrb_zmq_msg_gets’:
/home/maki/check_mruby/mruby/build/repos/test/mruby-zmq/src/mrb_libzmq.c:252:3: warning: ISO C90 forbids mixed declarations and code [-Wdeclaration-after-statement]
   const char *prop = zmq_msg_gets(msg, property);
   ^~~~~
/home/maki/check_mruby/mruby/build/repos/test/mruby-zmq/src/mrb_libzmq.c: In function ‘mrb_zmq_msg_send’:
/home/maki/check_mruby/mruby/build/repos/test/mruby-zmq/src/mrb_libzmq.c:273:3: warning: ISO C90 forbids mixed declarations and code [-Wdeclaration-after-statement]
   int rc = zmq_msg_send(msg, socket, flags);
   ^~~
/home/maki/check_mruby/mruby/build/repos/test/mruby-zmq/src/mrb_libzmq.c: In function ‘mrb_zmq_msg_size’:
/home/maki/check_mruby/mruby/build/repos/test/mruby-zmq/src/mrb_libzmq.c:287:3: warning: ISO C90 forbids mixed declarations and code [-Wdeclaration-after-statement]
   size_t size = zmq_msg_size(msg);
   ^~~~~~
/home/maki/check_mruby/mruby/build/repos/test/mruby-zmq/src/mrb_libzmq.c: In function ‘mrb_zmq_proxy’:
/home/maki/check_mruby/mruby/build/repos/test/mruby-zmq/src/mrb_libzmq.c:299:3: warning: ISO C90 forbids mixed declarations and code [-Wdeclaration-after-statement]
   int rc = zmq_proxy(frontend, backend, capture);
   ^~~
/home/maki/check_mruby/mruby/build/repos/test/mruby-zmq/src/mrb_libzmq.c: In function ‘mrb_zmq_proxy_steerable’:
/home/maki/check_mruby/mruby/build/repos/test/mruby-zmq/src/mrb_libzmq.c:314:3: warning: ISO C90 forbids mixed declarations and code [-Wdeclaration-after-statement]
   int rc = zmq_proxy_steerable(frontend, backend, capture, control);
   ^~~
/home/maki/check_mruby/mruby/build/repos/test/mruby-zmq/src/mrb_libzmq.c: In function ‘mrb_zmq_msg_eql’:
/home/maki/check_mruby/mruby/build/repos/test/mruby-zmq/src/mrb_libzmq.c:334:3: warning: ISO C90 forbids mixed declarations and code [-Wdeclaration-after-statement]
   zmq_msg_t *msg = (zmq_msg_t *) DATA_PTR(self);
   ^~~~~~~~~
/home/maki/check_mruby/mruby/build/repos/test/mruby-zmq/src/mrb_libzmq.c: In function ‘mrb_zmq_send’:
/home/maki/check_mruby/mruby/build/repos/test/mruby-zmq/src/mrb_libzmq.c:356:3: warning: ISO C90 forbids mixed declarations and code [-Wdeclaration-after-statement]
   int rc = zmq_send(socket, RSTRING_PTR(message), RSTRING_LEN(message), flags);
   ^~~
/home/maki/check_mruby/mruby/build/repos/test/mruby-zmq/src/mrb_libzmq.c: In function ‘mrb_zmq_setsockopt’:
/home/maki/check_mruby/mruby/build/repos/test/mruby-zmq/src/mrb_libzmq.c:373:3: warning: ISO C90 forbids mixed declarations and code [-Wdeclaration-after-statement]
   int rc;
   ^~~
/home/maki/check_mruby/mruby/build/repos/test/mruby-zmq/src/mrb_libzmq.c: In function ‘mrb_zmq_unbind’:
/home/maki/check_mruby/mruby/build/repos/test/mruby-zmq/src/mrb_libzmq.c:418:3: warning: ISO C90 forbids mixed declarations and code [-Wdeclaration-after-statement]
   int rc = zmq_unbind(socket, endpoint);
   ^~~
/home/maki/check_mruby/mruby/build/repos/test/mruby-zmq/src/mrb_libzmq.c: In function ‘mrb_zmq_socket’:
/home/maki/check_mruby/mruby/build/repos/test/mruby-zmq/src/mrb_libzmq.c:527:3: warning: ISO C90 forbids mixed declarations and code [-Wdeclaration-after-statement]
   mrb_int type;
   ^~~~~~~
/home/maki/check_mruby/mruby/build/repos/test/mruby-zmq/src/mrb_libzmq.c:531:3: warning: ISO C90 forbids mixed declarations and code [-Wdeclaration-after-statement]
   void *socket = zmq_socket(MRB_LIBZMQ_CONTEXT(mrb), type);
   ^~~~
/home/maki/check_mruby/mruby/build/repos/test/mruby-zmq/src/mrb_libzmq.c: In function ‘mrb_zmq_socket_monitor’:
/home/maki/check_mruby/mruby/build/repos/test/mruby-zmq/src/mrb_libzmq.c:550:3: warning: ISO C90 forbids mixed declarations and code [-Wdeclaration-after-statement]
   int rc = zmq_socket_monitor(socket, addr, events);
   ^~~
/home/maki/check_mruby/mruby/build/repos/test/mruby-zmq/src/mrb_libzmq.c: In function ‘mrb_zmq_socket_recv’:
/home/maki/check_mruby/mruby/build/repos/test/mruby-zmq/src/mrb_libzmq.c:565:3: warning: ISO C90 forbids mixed declarations and code [-Wdeclaration-after-statement]
   mrb_value data;
   ^~~~~~~~~
/home/maki/check_mruby/mruby/build/repos/test/mruby-zmq/src/mrb_libzmq.c: In function ‘mrb_zmq_z85_decode’:
/home/maki/check_mruby/mruby/build/repos/test/mruby-zmq/src/mrb_libzmq.c:600:3: warning: ISO C90 forbids mixed declarations and code [-Wdeclaration-after-statement]
   size_t string_len = strlen(string);
   ^~~~~~
/home/maki/check_mruby/mruby/build/repos/test/mruby-zmq/src/mrb_libzmq.c:606:3: warning: ISO C90 forbids mixed declarations and code [-Wdeclaration-after-statement]
   mrb_value dest = mrb_str_new(mrb, NULL, 0.8 * string_len);
   ^~~~~~~~~
In file included from /home/maki/check_mruby/mruby/include/mruby/value.h:169:0,
                 from /home/maki/check_mruby/mruby/include/mruby.h:92,
                 from /home/maki/check_mruby/mruby/build/repos/test/mruby-zmq/include/mruby/zmq.h:4,
                 from /home/maki/check_mruby/mruby/build/repos/test/mruby-zmq/src/mrb_libzmq.h:10,
                 from /home/maki/check_mruby/mruby/build/repos/test/mruby-zmq/src/mrb_libzmq.c:1:
/home/maki/check_mruby/mruby/build/repos/test/mruby-zmq/src/mrb_libzmq.c: In function ‘mrb_zmq_z85_encode’:
/home/maki/check_mruby/mruby/build/repos/test/mruby-zmq/src/mrb_libzmq.c:628:77: error: implicit declaration of function ‘mrb_fixnum_mul’; did you mean ‘mrb_num_mul’? [-Werror=implicit-function-declaration]
   mrb_value dest = mrb_str_new(mrb, NULL, mrb_fixnum(mrb_flo_to_fixnum(mrb, mrb_fixnum_mul(mrb, mrb_fixnum_value(size), mrb_float_value(mrb, 1.25)))));
                                                                             ^
/home/maki/check_mruby/mruby/include/mruby/boxing_no.h:35:26: note: in definition of macro ‘mrb_fixnum’
 #define mrb_fixnum(o)   (o).value.i
                          ^
/home/maki/check_mruby/mruby/build/repos/test/mruby-zmq/src/mrb_libzmq.c:628:77: error: incompatible type for argument 2 of ‘mrb_flo_to_fixnum’
   mrb_value dest = mrb_str_new(mrb, NULL, mrb_fixnum(mrb_flo_to_fixnum(mrb, mrb_fixnum_mul(mrb, mrb_fixnum_value(size), mrb_float_value(mrb, 1.25)))));
                                                                             ^
/home/maki/check_mruby/mruby/include/mruby/boxing_no.h:35:26: note: in definition of macro ‘mrb_fixnum’
 #define mrb_fixnum(o)   (o).value.i
                          ^
In file included from /home/maki/check_mruby/mruby/build/repos/test/mruby-zmq/src/mrb_libzmq.h:21:0,
                 from /home/maki/check_mruby/mruby/build/repos/test/mruby-zmq/src/mrb_libzmq.c:1:
/home/maki/check_mruby/mruby/include/mruby/numeric.h:34:19: note: expected ‘mrb_value {aka struct mrb_value}’ but argument is of type ‘int’
 MRB_API mrb_value mrb_flo_to_fixnum(mrb_state *mrb, mrb_value val);
                   ^~~~~~~~~~~~~~~~~
/home/maki/check_mruby/mruby/build/repos/test/mruby-zmq/src/mrb_libzmq.c:628:3: warning: ISO C90 forbids mixed declarations and code [-Wdeclaration-after-statement]
   mrb_value dest = mrb_str_new(mrb, NULL, mrb_fixnum(mrb_flo_to_fixnum(mrb, mrb_fixnum_mul(mrb, mrb_fixnum_value(size), mrb_float_value(mrb, 1.25)))));
   ^~~~~~~~~
/home/maki/check_mruby/mruby/build/repos/test/mruby-zmq/src/mrb_libzmq.c: In function ‘mrb_zmq_thread_fn’:
/home/maki/check_mruby/mruby/build/repos/test/mruby-zmq/src/mrb_libzmq.c:646:3: warning: ISO C90 forbids mixed declarations and code [-Wdeclaration-after-statement]
   mrb_state *mrb = mrb_open_allocf(mrb_zmq_thread_data->mrb_parent->allocf, mrb_zmq_thread_data->mrb_parent->allocf_ud);
   ^~~~~~~~~
/home/maki/check_mruby/mruby/build/repos/test/mruby-zmq/src/mrb_libzmq.c:649:5: warning: ISO C90 forbids mixed declarations and code [-Wdeclaration-after-statement]
     mrb_value thread_fn = mrb_nil_value();
     ^~~~~~~~~
/home/maki/check_mruby/mruby/build/repos/test/mruby-zmq/src/mrb_libzmq.c:657:7: warning: ISO C90 forbids mixed declarations and code [-Wdeclaration-after-statement]
       struct RClass* zmq_mod = mrb_module_get(mrb, "ZMQ");
       ^~~~~~
/home/maki/check_mruby/mruby/build/repos/test/mruby-zmq/src/mrb_libzmq.c:660:7: warning: ISO C90 forbids mixed declarations and code [-Wdeclaration-after-statement]
       mrb_value timeo = mrb_fixnum_value(120000);
       ^~~~~~~~~
/home/maki/check_mruby/mruby/build/repos/test/mruby-zmq/src/mrb_libzmq.c:664:7: warning: ISO C90 forbids mixed declarations and code [-Wdeclaration-after-statement]
       mrb_value argv = mrb_msgpack_unpack(mrb, mrb_zmq_thread_data->argv_str);
       ^~~~~~~~~
/home/maki/check_mruby/mruby/build/repos/test/mruby-zmq/src/mrb_libzmq.c:688:7: warning: ISO C90 forbids mixed declarations and code [-Wdeclaration-after-statement]
       mrb_value old_exc = mrb_obj_value(mrb->exc);
       ^~~~~~~~~
/home/maki/check_mruby/mruby/build/repos/test/mruby-zmq/src/mrb_libzmq.c: In function ‘mrb_zmq_threadstart’:
/home/maki/check_mruby/mruby/build/repos/test/mruby-zmq/src/mrb_libzmq.c:730:3: warning: ISO C90 forbids mixed declarations and code [-Wdeclaration-after-statement]
   mrb_value *argv = NULL;
   ^~~~~~~~~
/home/maki/check_mruby/mruby/build/repos/test/mruby-zmq/src/mrb_libzmq.c:735:3: warning: ISO C90 forbids mixed declarations and code [-Wdeclaration-after-statement]
   mrb_value self = mrb_obj_value(mrb_obj_alloc(mrb, MRB_TT_DATA, mrb_class_ptr(thread_class)));
   ^~~~~~~~~
/home/maki/check_mruby/mruby/build/repos/test/mruby-zmq/src/mrb_libzmq.c:745:3: warning: ISO C90 forbids mixed declarations and code [-Wdeclaration-after-statement]
   mrb_value pipe_args[] = {
   ^~~~~~~~~
/home/maki/check_mruby/mruby/build/repos/test/mruby-zmq/src/mrb_libzmq.c:750:3: warning: ISO C90 forbids mixed declarations and code [-Wdeclaration-after-statement]
   mrb_value frontend_val = mrb_obj_new(mrb, mrb_class_get_under(mrb, mrb_module_get(mrb, "ZMQ"), "Pair"), NELEMS(pipe_args), pipe_args);
   ^~~~~~~~~
/home/maki/check_mruby/mruby/build/repos/test/mruby-zmq/src/mrb_libzmq.c:752:3: warning: ISO C90 forbids mixed declarations and code [-Wdeclaration-after-statement]
   mrb_value timeo = mrb_fixnum_value(120000);
   ^~~~~~~~~
/home/maki/check_mruby/mruby/build/repos/test/mruby-zmq/src/mrb_libzmq.c:761:3: warning: ISO C90 forbids mixed declarations and code [-Wdeclaration-after-statement]
   int rc = thrd_create(&mrb_zmq_thread_data->thread, &mrb_zmq_thread_fn, mrb_zmq_thread_data);
   ^~~
/home/maki/check_mruby/mruby/build/repos/test/mruby-zmq/src/mrb_libzmq.c:767:3: warning: ISO C90 forbids mixed declarations and code [-Wdeclaration-after-statement]
   int success = FALSE;
   ^~~
/home/maki/check_mruby/mruby/build/repos/test/mruby-zmq/src/mrb_libzmq.c: In function ‘mrb_zmq_threadclose’:
/home/maki/check_mruby/mruby/build/repos/test/mruby-zmq/src/mrb_libzmq.c:801:5: warning: ISO C90 forbids mixed declarations and code [-Wdeclaration-after-statement]
     int success = FALSE;
     ^~~
/home/maki/check_mruby/mruby/build/repos/test/mruby-zmq/src/mrb_libzmq.c: In function ‘mrb_network_interfaces’:
/home/maki/check_mruby/mruby/build/repos/test/mruby-zmq/src/mrb_libzmq.c:1136:3: warning: ISO C90 forbids mixed declarations and code [-Wdeclaration-after-statement]
   mrb_value interfaces_ary = mrb_ary_new(mrb);
   ^~~~~~~~~
/home/maki/check_mruby/mruby/build/repos/test/mruby-zmq/src/mrb_libzmq.c: In function ‘mrb_mruby_zmq_gem_init’:
/home/maki/check_mruby/mruby/build/repos/test/mruby-zmq/src/mrb_libzmq.c:1232:3: warning: ISO C90 forbids mixed declarations and code [-Wdeclaration-after-statement]
   void *context = zmq_ctx_new();
   ^~~~
/home/maki/check_mruby/mruby/build/repos/test/mruby-zmq/src/mrb_libzmq.c:1246:3: warning: ISO C90 forbids mixed declarations and code [-Wdeclaration-after-statement]
   struct RClass *libzmq_mod, *zmq_mod, *zmq_msg_class, *zmq_socket_class, *zmq_thread_class;
   ^~~~~~
/home/maki/check_mruby/mruby/build/repos/test/mruby-zmq/src/mrb_libzmq.c:1338:3: warning: ISO C90 forbids mixed declarations and code [-Wdeclaration-after-statement]
   mrb_value msgpack = mrb_obj_value(mrb_module_get(mrb, "MessagePack"));
   ^~~~~~~~~
/home/maki/check_mruby/mruby/build/repos/test/mruby-zmq/src/mrb_libzmq.c:1348:3: warning: ISO C90 forbids mixed declarations and code [-Wdeclaration-after-statement]
   mrb_value pack_class_args[] = { mrb_fixnum_value(2), mrb_obj_value(mrb->class_class) };
   ^~~~~~~~~
/home/maki/check_mruby/mruby/build/repos/test/mruby-zmq/src/mrb_libzmq.c:1354:3: warning: ISO C90 forbids mixed declarations and code [-Wdeclaration-after-statement]
   mrb_value pack_module_args[] = { mrb_fixnum_value(4), mrb_obj_value(mrb->module_class) };
   ^~~~~~~~~
/home/maki/check_mruby/mruby/build/repos/test/mruby-zmq/src/mrb_libzmq.c:1360:3: warning: ISO C90 forbids mixed declarations and code [-Wdeclaration-after-statement]
   mrb_value pack_proc_args[] = { mrb_fixnum_value(127), mrb_obj_value(mrb->proc_class) };
   ^~~~~~~~~
/home/maki/check_mruby/mruby/build/repos/test/mruby-zmq/src/mrb_libzmq.c: In function ‘mrb_mruby_zmq_gem_final’:
/home/maki/check_mruby/mruby/build/repos/test/mruby-zmq/src/mrb_libzmq.c:1372:3: warning: ISO C90 forbids mixed declarations and code [-Wdeclaration-after-statement]
   void *context = MRB_LIBZMQ_CONTEXT(mrb);
   ^~~~
cc1: some warnings being treated as errors
rake aborted!
Command failed with status (1): [gcc -std=gnu99 -g -O3 -Wall -Wundef -Wdecl...]
/home/maki/check_mruby/mruby/lib/mruby/build/command.rb:31:in `_run'
/home/maki/check_mruby/mruby/lib/mruby/build/command.rb:36:in `rescue in _run'
/home/maki/check_mruby/mruby/lib/mruby/build/command.rb:32:in `_run'
/home/maki/check_mruby/mruby/lib/mruby/build/command.rb:90:in `run'
/home/maki/check_mruby/mruby/lib/mruby/build/command.rb:114:in `block (2 levels) in define_rules'

Caused by:
Command failed with status (1): [gcc -std=gnu99 -g -O3 -Wall -Wundef -Wdecl...]
/home/maki/check_mruby/mruby/lib/mruby/build/command.rb:33:in `_run'
/home/maki/check_mruby/mruby/lib/mruby/build/command.rb:90:in `run'
/home/maki/check_mruby/mruby/lib/mruby/build/command.rb:114:in `block (2 levels) in define_rules'
Tasks: TOP => test => test_test => all => /home/maki/check_mruby/mruby/build/test/lib/libmruby.flags.mak => /home/maki/check_mruby/mruby/build/test/lib/libmruby.a => /home/maki/check_mruby/mruby/build/test/mrbgems/mruby-zmq/src/mrb_libzmq.o
(See full trace by running task with --trace)
